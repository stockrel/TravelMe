 <div class="row" style="background-color: #CCCCCC;" *ngIf="!isLoading">

  <!-- <h4>Found flights ({{results.flights.length}})</h4> -->
  <div class="row">
    <div class="well well-sm col-md-10 offset-md-1" style="background-color:white;">
      <div class="form-group" style="margin-bottom:0px;">
        <div class="input-group">
          <div class="input-group-addon" style="background-color:white;border:none;"><i class="fa fa-flag" style="color:red;" aria-hidden="true"></i> From</div>
          <input type="text" style="border: none;" class="form-control" id="from" name="from" [(ngModel)]="query.from">
        </div>
      </div>
    </div>
    <div class="well well-sm col-md-10 offset-md-1" style="background-color:white;">
      <div class="form-group" style="margin-bottom:0px;">
        <div class="input-group">
          <div class="input-group-addon" style="background-color:white;border:none;"><i class="fa fa-flag" style="color:#25383C;" aria-hidden="true"></i> To</div>
          <input type="text" style="border: none;" class="form-control" id="to" name="to" [(ngModel)]="query.to">
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="box col-md-3 offset-md-2" style="background-color:white;">
      <div class="col-md-12">
        <span style="color:#808080;">Depart</span>
      </div>
      <div class="col-md-6">
        <h1 class="pull-right"><b>{{query.singleDate | date: 'd'}}</b></h1>
      </div>
      <div class="col-md-6">
          <div class="row pull-left">
            <h2 style="color:#808080;" class="col-md-12">{{query.singleDate | date: 'MMM'}}</h2>
            <h2 style="color:#808080;" class="col-md-12">{{query.singleDate | date: 'yyyy'}}</h2>
          </div>
      </div>
      <div class="col-md-12">
        <button type="button" class="btn btn-xs btn-block"><b>Change Date</b></button>
      </div>
    </div>
    <div class="box col-md-3 offset-md-2 row" style="background-color:white;">
      <div class="col-md-12">
        <span style="color:#808080;">Return on</span>
      </div>
      <div class="col-md-6">
        <h1 class="pull-right"><b>{{query.returnDate | date: 'd'}}</b></h1>
      </div>
      <div class="col-md-6">
          <div class="row pull-left">
            <h2 style="color:#808080;" class="col-md-12">{{query.returnDate | date: 'MMM'}}</h2>
            <h2 style="color:#808080;" class="col-md-12">{{query.returnDate | date: 'yyyy'}}</h2>
          </div>
      </div>
      <div class="col-md-12">
        <button type="button" class="btn btn-xs btn-block"><b>Change Date</b></button>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="box col-md-2 offset-md-2" style="background-color:white;">
      <div class="col-md-12">
        <span style="color:#808080;">Adults</span>
      </div>
      <div class="col-md-6">
        <h1 class="pull-right"><b>1</b></h1>
      </div>
      <div class="col-md-6">
          <div class="row pull-left">
            <h2 style="color:#808080;" class="col-md-12">12+</h2>
            <h2 style="color:#808080;" class="col-md-12">years</h2>
          </div>
      </div>
    </div>
    <div class="box col-md-2 offset-md-1" style="background-color:white;">
      <div class="col-md-12">
        <span style="color:#808080;">Children</span>
      </div>
      <div class="col-md-6">
        <h1 class="pull-right"><b>0</b></h1>
      </div>
      <div class="col-md-6">
          <div class="row pull-left">
            <h2 style="color:#808080;" class="col-md-12">2-12</h2>
            <h2 style="color:#808080;" class="col-md-12">years</h2>
          </div>
      </div>
    </div>
    <div class="box col-md-2 offset-md-1" style="background-color:white;">
      <div class="col-md-12">
        <span style="color:#808080;">Infants</span>
      </div>
      <div class="col-md-6">
        <h1 class="pull-right"><b>0</b></h1>
      </div>
      <div class="col-md-6">
          <div class="row pull-left">
            <h2 style="color:#808080;" class="col-md-12">0-23</h2>
            <h2 style="color:#808080;" class="col-md-12">months</h2>
          </div>
      </div>
    </div>
  	<!-- <form class="form-inline">
       <div class="form-group">
        <label for="from"><i class="fa fa-map-marker" style="color:blue;" aria-hidden="true"></i>From:</label>
        <input type="text" class="form-control" id="from" name="from" [(ngModel)]="query.from">
      </div>
      <div class="form-group">
        <label for="to">To:</label>
        <input type="text" class="form-control" id="to" name="to" [(ngModel)]="query.to">
      </div> 
      <div class="form-group">
        <label for="singleDate">Single Date:</label>
        <input type="text" class="form-control" id="singleDate" name="singleDate" [(ngModel)]="query.singleDate">
      </div>
      <div class="form-group">
        <label for="return">Return?</label>
        <input type="checkbox" class="form-control" id="return" name="return" [(ngModel)]="query.return">
      </div>
      <div class="form-group">
        <label for="returnDate">Return Date:</label>
        <input type="text" class="form-control" id="returnDate" name="returnDate" [(ngModel)]="query.returnDate" [disabled]="!query.return">
      </div>
      <div class="form-group">
        <label for="flexible">Flexible:</label>
        <input type="text" class="form-control" id="flexible" name="flexible" [(ngModel)]="query.flexible">
      </div>
      <button class="btn btn-success" (click)="search()">Search !</button>
    </form> -->
  </div>
  <div *ngIf="init && searching" class="row">
    <sk-fading-circle></sk-fading-circle>
  </div>
  <div *ngIf="init && !searching && results.flights.length != 0" class="row">
    <ul class="nav nav-tabs nav-justified">
      <template ngFor let-browse [ngForOf]="browseResults">
        <li *ngIf="browse.OutboundLeg.DepartureDate.substring(0,10) == query.singleDate" class="active">
          <a data-toggle="tab" href="#{{browse.OutboundLeg.DepartureDate}}">
            {{browse.OutboundLeg.DepartureDate | date: 'MMM d'}}
            <span *ngIf="results.currency[0].SymbolOnLeft" class="price"><small>{{results.currency[0].Symbol}}</small><b>{{browse.MinPrice}}</b></span>
            <span *ngIf="!results.currency[0].SymbolOnLeft" class="price"><b>{{browse.MinPrice}}</b><small>{{results.currency[0].Symbol}}</small></span>
          </a>
        </li>
        <li *ngIf="browse.OutboundLeg.DepartureDate.substring(0,10) != query.singleDate">
          <a data-toggle="tab" href="#main" (click)="switchDate(browse.OutboundLeg.DepartureDate.substring(0,10))">
            {{browse.OutboundLeg.DepartureDate | date: 'MMM d'}}
            <span *ngIf="results.currency[0].SymbolOnLeft" class="price"><small>{{results.currency[0].Symbol}}</small><b>{{browse.MinPrice}}</b></span>
            <span *ngIf="!results.currency[0].SymbolOnLeft" class="price"><b>{{browse.MinPrice}}</b><small>{{results.currency[0].Symbol}}</small></span>
          </a>
        </li>
      </template> 
    </ul>
      
    <div class="tab-content">
      <div class="panel panel-default" *ngFor="let flight of results.flights" >
        <div class="panel-heading" (mouseover)='over()'>
          <h3 *ngIf="results.currency[0].SymbolOnLeft" class="pull-left"><i class="fa fa-plane" aria-hidden="true"></i> <small>{{results.query.Currency}}</small><b>{{flight.PricingOptions[0].Price}}</b></h3>
          <h3 *ngIf="!results.currency[0].SymbolOnLeft" class="pull-left"><i class="fa fa-plane" aria-hidden="true"></i> <b>{{flight.PricingOptions[0].Price}}</b><small>{{results.query.Currency}}</small></h3>
          <div class="btn-group pull-right">
            <a class="btn btn-xs btn-info" href="#"><i class="fa fa-comments" aria-hidden="true"></i></a>
            <a class="btn btn-xs btn-info" href="#"><i class="fa fa-bullhorn" aria-hidden="true"></i></a>
            <a class="btn btn-xs btn-info" href="#"><i class="fa fa-thumb-tack" aria-hidden="true"></i></a>
          </div>
          <div class="clearfix"></div>
        </div>
        <div class="panel-body row">
          <div class="col-md-12">
            <div class="col-md-12" style="background-color:#25383C;color:white;">
              Outbound <i class="fa fa-arrow-right" aria-hidden="true"></i>
            </div>
            <div class="col-md-2">
              <img class="media-object" src="{{flight.OutboundLegId.Carriers[0].ImageUrl}}" alt="{{flight.OutboundLegId.Carriers[0].Name}}">
            </div>
            <div class="col-md-3">
              <span class="dates col-md-12"><b>{{flight.OutboundLegId.Departure | date: 'HH:mm'}}</b></span>
              <span class="col-md-12">{{flight.OutboundLegId.OriginStation.Name}} ({{flight.OutboundLegId.OriginStation.Code}})</span>
            </div>
            <div class="col-md-1">
              <i class="fa fa-arrow-right" aria-hidden="true"></i>
            </div>
            <div class="col-md-3">
              <span class="dates col-md-12"><b>{{flight.OutboundLegId.Arrival | date: 'HH:mm'}}</b></span>
              <span class="col-md-12">{{flight.OutboundLegId.DestinationStation.Name}} ({{flight.OutboundLegId.DestinationStation.Code}})</span>
            </div>
            <div class="col-md-3">
              <span class="col-md-12">
                <i class="fa fa-clock-o" aria-hidden="true"></i>
                <b>{{floor(flight.OutboundLegId.Duration/60).toFixed(0)}}h {{flight.OutboundLegId.Duration-floor(flight.OutboundLegId.Duration/60).toFixed(0)*60}}min</b>
              </span>
              <span class="col-md-12">{{flight.OutboundLegId.Stops.length > 0 ? flight.OutboundLegId.Stops.length+" stop(s)" : "Direct"}}</span>
            </div>
          </div>
          <div *ngIf="flight.InboundLegId" class="col-md-12">
            <div class="col-md-12" style="background-color:#25383C;color:white;">
              Inbound <i class="fa fa-arrow-left" aria-hidden="true"></i>
            </div>
            <div class="col-md-2">
              <img class="media-object" src="{{flight.InboundLegId.Carriers[0].ImageUrl}}" alt="{{flight.InboundLegId.Carriers[0].Name}}">
            </div>
            <div class="col-md-3">
              <span class="dates col-md-12"><b>{{flight.InboundLegId.Departure | date: 'HH:mm'}}</b></span>
              <span class="col-md-12">{{flight.InboundLegId.OriginStation.Name}} ({{flight.InboundLegId.OriginStation.Code}})</span>
            </div>
            <div class="col-md-1">
              <i class="fa fa-arrow-right" aria-hidden="true"></i>
            </div>
            <div class="col-md-3">
              <span class="dates col-md-12"><b>{{flight.InboundLegId.Arrival | date: 'HH:mm'}}</b></span>
              <span class="col-md-12">{{flight.InboundLegId.DestinationStation.Name}} ({{flight.InboundLegId.DestinationStation.Code}})</span>
            </div>
            <div class="col-md-2">
              <span class="col-md-12">
                <i class="fa fa-clock-o" aria-hidden="true"></i>
                <b>{{floor(flight.InboundLegId.Duration/60).toFixed(0)}}h {{flight.InboundLegId.Duration-floor(flight.InboundLegId.Duration/60).toFixed(0)*60}}min</b>
              </span>
              <span class="col-md-12">{{flight.InboundLegId.Stops.length > 0 ? flight.InboundLegId.Stops.length+" stop(s)" : "Direct"}}</span>
            </div>
          </div>
        </div>
        <div class="panel-footer">
          <a type="button" class="btn btn-success pull-right" href="{{flight.PricingOptions[0].DeeplinkUrl}}">Book now through <b>{{flight.PricingOptions[0].Agents[0].Name}}</b></a>
          <div class="clearfix"></div>
        </div>
      </div>
    </div>
     

      <!-- <table id="main" class="flat-table flat-table-flights tab-pane fade in active">
        <thead>
          <tr>
            <th>Price</th>
            <th>Provider</th>
            <th>Journey</th>
            <th>Carrier</th>
            <th>Duration</th>
            <th>Stopovers</th>
          </tr>
        </thead>
        <tbody *ngIf="init && !searching && results.flights.length === 0">
          <tr>
            <td colspan="6">No transport option found</td>
          </tr>  
        </tbody>
        <tbody *ngIf="init && results.flights.length != 0">
          <tr *ngFor="let flight of results.flights">
            <td class="row"><span class="currency">{{results.query.Currency}}</span><br/><span class="price"><b>{{flight.PricingOptions[0].Price}}</b></span></td>
            <td ><img src="{{flight.PricingOptions[0].Agents[0].ImageUrl}}"></td>
            <td class="row">
              <span class="airportcode">{{flight.OutboundLegId.OriginStation.Code}}</span>
              <br/>
              <span class="dates"><b>{{flight.OutboundLegId.Departure | date: 'HH:mm'}}</b></span>
              <i class="icon-arrow-right"></i>
              <span class="airportcode">{{flight.OutboundLegId.DestinationStation.Code}}</span>
              <br/>
              <span class="dates"><b>{{flight.OutboundLegId.Arrival | date: 'HH:mm'}}</b></span>
            </td>
            <td><img src="{{flight.OutboundLegId.Carriers[0].ImageUrl}}"></td>
            <td>{{(flight.OutboundLegId.Duration/60).toFixed(1)}}h</td>
            <td>{{flight.OutboundLegId.Stops.length > 0 ? flight.OutboundLegId.Stops.length+" stop(s)" : "Direct"}}</td>      
          </tr>  
        </tbody>
      </table> -->
    </div>
    <!-- <div [hidden]="!infoMsg.body" class="alert alert-{{infoMsg.type}} alert-dismissible" role="alert">
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
      <strong>Message:</strong> {{infoMsg.body}}
    </div> -->
  <!-- </div> -->
</div> 